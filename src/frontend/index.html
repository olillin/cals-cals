<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cal's cals</title>
    <link rel="stylesheet" href="/style.css" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
    <meta property="og:title" content="Cal's cals" />
    <meta property="og:site_name" content="Olillin" />
    <meta
          property="og:description"
          content="Locally produced calendars near Chalmers!" />
    <meta property="og:image" content="/media.png" />
    <meta property="og:image:alt" content="Cal's cals banner" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="600" />
    <meta property="og:image:type" content="image/png" />
    <meta name="theme-color" content="#5ac1a2" />
    <meta name="twitter:title" content="Cal's cals" />
    <meta
          name="twitter:description"
          content="Locally produced calendars near Chalmers!" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:image:src" content="/media.png" />
    <meta name="twitter:image:alt" content="Cal's cals banner" />
    <meta name="twitter:site" content="@olilllin" />
    <meta name="twitter:creator" content="@olilllin" />
    <script src="/calendar-picker.js"></script>
    <script src="/calendar-builder.js"></script>
</head>

<body>
    <main>
        <section>
            <h1>Welcome to Cal's cals!</h1>
            <p>
                A better calendar experience at Chalmers, made and maintained by
                <a href="https://wiki.chalmers.it/Cal" target="_blank">Cal</a>.
            </p>
        </section>

        <section class="calendar-picker">
            <h2>Calendar Picker</h2>
            <p>
                Here you can select which calendars you want to include in your
                custom calendar feed. The URL you get at the bottom will
                automatically update as you select and deselect calendars. You
                can then use this URL to subscribe to your custom calendar feed
                in your calendar application of choice.
            </p>

            <div class="calendars" id="calendars"></div>

            <span class="checkbox-field" id="show-origin-section">
                <input
                       type="checkbox"
                       id="show-origin"
                       checked="true"
                       onchange="update()" />
                <label for="show-origin">Show calendar name in events</label>
            </span>

            <span class="calendar-url" id="calendar-url-section">
                <input
                       type="text"
                       id="calendar-url"
                       disabled
                       aria-disabled="true" />
                <span id="copy-notice" class="copy-notice"><span class="no-select">Copied!</span></span>
                <button id="copy-calendar-url" class="copy-calendar-url" onclick="copyUrl()"></button>
            </span>
        </section>

        <section>
            <h2>Calendar Builder</h2>
            <p>
                Frustrated by your TimeEdit schedule being needlessly difficult
                to read? By pasting the subscription URL to your schedule below
                you can get a new URL which contains the same information but in
                a more friendly format!
            </p>

            <details>
                <summary>Where do I find the URL?</summary>
                <p>
                    Go to your TimeEdit schedule and click the "Subscribe"
                    ("Prenumerera") button near the top right of the schedule.
                    Copy the URL from the dialog that appears.
                </p>
            </details>

            <span class="calendar-builder-input">
                <div>
                    <label for="calendar-builder-input-url">TimeEdit Calendar URL</label>
                    <input type="text" name="calendar-builder-input-url" id="calendar-builder-input-url">
                </div>
                <button type="button" onclick="setBuilderUrl()">Convert URL</button>
            </span>

            <span id="calendar-builder-error" class="error"></span>

            <div id="calendar-builder-output" class="calendar-builder-output">
                <span class="checkbox-field">
                    <input
                        type="checkbox"
                        id="add-exams"
                        checked="true"
                        onchange="updateBuilder()" />
                    <label>Add exams</label>
                </span>
                <div id="builder-calendars" class="builder-calendars"></div>

                <button id="add-group" class="add-group" onclick="addGroup()"></button>
            </div>
        </section>
    </main>

    <footer>
        <span>
            Made with <span class="pixelnheart"></span> by
            <a href="https://wiki.chalmers.it/Cal" target="_blank">Cal</a>.
        </span>
        <span>
            Is something wrong or could be improved?
            <a href="https://github.com/olillin/cals-cals/issues" target="_blank">
                Leave an issue on GitHub</a>!
        </span>
    </footer>
</body>

</html>
